{% extends "petjoy/base.html" %}

{% block content %}
<div class="container" style="max-width:650px;margin:40px auto; padding: 0 20px;">

    <div style="margin-bottom: 20px; text-align: left;">
        <a href="{% url 'petjoy:notification_list' %}" 
           style="text-decoration:none; color:#666; font-size:14px; display:inline-flex; align-items:center; gap:5px;">
            <i class="ri-arrow-left-s-line" style="font-size:20px;"></i> ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
        </a>
    </div>

    <div style="text-align:center;">
        <h2 style="margin-bottom:10px;">‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ üêæ</h2>
        <p style="color:#888; margin-bottom:30px;">‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏ó‡∏£‡∏≤‡∏ö‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞</p>
    </div>

    {% for item in items %}
    <div style="
        background:#fff;
        padding:30px;
        border-radius:22px;
        box-shadow:0 6px 25px rgba(0,0,0,0.05);
        margin-bottom:30px;
        text-align: center;
    ">

        {% if item.product.image %}
        <img src="{{ item.product.image.url }}"
             alt="{{ item.product.name }}"
             style="
                width:120px;
                height:120px;
                object-fit:cover;
                border-radius:20px;
                margin-bottom:15px;
                border: 4px solid #fff3eb;
             ">
        {% endif %}

        <h4 style="margin-bottom:20px; font-size:18px; color:#333;">
            {{ item.product.name }}
        </h4>

        <form method="post" id="reviewForm">
            {% csrf_token %}

            <div class="star-rating" style="margin-bottom:25px;">
                {% for i in "54321" %}
                <input type="radio" id="star{{ i }}" name="rating" value="{{ i }}" required>
                <label for="star{{ i }}">‚òÖ</label>
                {% endfor %}
            </div>

            <textarea name="comment"
                      rows="4"
                      placeholder="‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤..."
                      required
                      style="
                        width:100%;
                        padding:15px;
                        border-radius:16px;
                        border:1.5px solid #eee;
                        margin-bottom:25px;
                        resize:none;
                        font-family: inherit;
                        background: #fdfdfd;
                      "></textarea>

            <button type="submit"
                    style="
                        width: 100%;
                        padding:14px;
                        background: linear-gradient(135deg, #ff9d42 0%, #ff7a00 100%);
                        color:#fff;
                        border:none;
                        border-radius:16px;
                        font-size:16px;
                        font-weight: 600;
                        cursor:pointer;
                        box-shadow: 0 4px 15px rgba(255,122,0,0.3);
                        transition: 0.3s;
                    ">
                ‡∏™‡πà‡∏á‡∏£‡∏µ‡∏ß‡∏¥‡∏ß
            </button>
        </form>
    </div>
    {% endfor %}

</div>

<style>
.star-rating {
    direction: rtl;
    display: inline-flex;
}
.star-rating input {
    display: none;
}
.star-rating label {
    font-size:40px;
    color:#e0e0e0;
    cursor:pointer;
    transition: transform 0.2s, color 0.2s;
}
.star-rating label:hover,
.star-rating label:hover ~ label {
    color:#ffb703;
    transform: scale(1.15);
}
.star-rating input:checked ~ label {
    color:#ffb703;
}
button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255,122,0,0.4);
}
</style>
{% endblock %}