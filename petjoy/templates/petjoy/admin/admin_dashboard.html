{% extends 'petjoy/admin/admin_base.html' %}

{% block title %}Admin Dashboard{% endblock %}
{% block page_title %}‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö{% endblock %}

{% block content %}

<!-- ====== SUMMARY CARDS ====== -->
<div class="stats-grid">

    <div class="stat-card">
        <h4>üë• ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h4>
        <p>{{ total_users|default:"0" }}</p>
    </div>

    <div class="stat-card">
        <h4>üè™ ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h4>
        <p>{{ total_shops|default:"0" }}</p>
    </div>

    <div class="stat-card">
        <h4>üì¶ ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h4>
        <p>{{ total_orders|default:"0" }}</p>
    </div>

    <div class="stat-card">
        <h4>üí∞ ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö</h4>
        <p>‡∏ø{{ total_income|default:"0"|floatformat:0 }}</p>
    </div>

</div>

<!-- ====== ORDER STATUS SUMMARY ====== -->
<div class="admin-content">
    <h3>üì¶ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>

    <div class="stats-grid">
        <div class="stat-card">
            <h4>‚è≥ ‡∏£‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h4>
            <p>{{ order_waiting|default:"0" }}</p>
        </div>
        <div class="stat-card">
            <h4>üõ†Ô∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°</h4>
            <p>{{ order_preparing|default:"0" }}</p>
        </div>
        <div class="stat-card">
            <h4>üöö ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</h4>
            <p>{{ order_delivering|default:"0" }}</p>
        </div>
        <div class="stat-card">
            <h4>‚úÖ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h4>
            <p>{{ order_success|default:"0" }}</p>
        </div>
    </div>
</div>

<!-- ====== RECENT SHOPS ====== -->
<div class="admin-content">
    <h3>üè™ ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>

    <table class="admin-table">
        <thead>
            <tr>
                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô</th>
                <th>‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô</th>
                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£</th>
            </tr>
        </thead>
        <tbody>
            {% for shop in recent_shops %}
            <tr>
                <td>{{ shop.store_name }}</td>
                <td>{{ shop.owner_name }}</td>
                <td>{{ shop.created_at|date:"d/m/Y" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3" style="text-align:center;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- ====== RECENT ORDERS ====== -->
<div class="admin-content">
    <h3>üßæ ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>

    <table class="admin-table">
        <thead>
            <tr>
                <th>#</th>
                <th>‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                <th>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</th>
                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
            </tr>
        </thead>
        <tbody>
            {% for order in recent_orders %}
            <tr>
                <td>{{ order.id }}</td>
                <td>{{ order.entrepreneur.store_name }}</td>
                <td>‡∏ø{{ order.total_price|floatformat:0 }}</td>
                <td>{{ order.status }}</td>
                <td>{{ order.created_at|date:"d/m/Y H:i" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" style="text-align:center;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
